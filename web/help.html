<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
    <title>visiongrader help</title>
  </head>
  <body>
  <div id="content">
    <h1>
      Inctoduction
    </h1>
    <p><i>visiongrader</i> is a scoring tool for detection algorithms.
    It is mainly used with face and pedestrians recognition, but
    nothing prevents you from using it with another type of data,
    provided you write a parser for the data.</p>
    <p>Both the parser and the comparator can easily be changed, so
    it can adapt to quite a large range of situations. You can either
    score a single result or, if you got the confidence of the results,
    plot a ROC or a DET curve.</p>
    <h1>
      Usage
    </h1>
    <p>For the time being, <i>visiongrader</i> is a command-line program.
    You can run it bt typing either <code>python main.py</code> or
    simply <code>./main.py</code> if it has been correctly chmoded.
    The options depend on the kind of data you are scoring.</p>
    <h2>
      Common options
    </h2>
      <p>If you do not specify <opt>--roc</opt> or <opt>--det</opt>, it will just score
      a single file. See the next section to plot curves from confidences.</p>
      <p><ul>
        <li><opt>--help</opt> : displays the help.</li>
	<li><opt>--input</opt> : the path to the input file. It is the file to score.</li>
	<li><opt>--input_parser</opt> : the parser to use to read the input file.</li>
	<li><opt>--groundtruth</opt> : the path to the groundtruth file.</li>
	<li><opt>--groundtruth_parser</opt> : the parser to use to read the
	groundtruth file</li>
	<li><opt>--parser_dir</opt> : the path to the directory where the parsers are
	located. If not specified, it is set to <i>./parsers</i> .</li>
	<li><opt>--comparator</opt> : the comparator to use. The comparator role is
	to tell if two boxes (or whatever object is used to describe the
	detections) match.</li>
	<li><opt>--comparator_dir</opt> : the path to the directory there the parsers
	are located. If not specified, it is set to <i>./comparators</i> .</li>
	<li><opt>--crawl</opt> : instead of an input file, use an input directory.
	It will only have an effect if the input parser has a crawl
	support. The comportement can differ from a parser to another,
	but the idea is to crawl into the directory and concatenate all
	the result files.</li>
      </ul></p>
    <h2>
      ROC/DET options
    </h2>
      <p>If you specify <opt>--roc</opt> or <opt>--det</opt>, then more options become
      available, in addition to the previous ones. If one of these options are
      set without any of <opt>--roc</opt> or <opt>--det</opt> set, it will either be
      ignored or raise an error.
      <p><ul>
        <li><opt>--roc</opt> : make a ROC curve.</li>
        <li><opt>--det</opt> : make a DET curve.</li>
	<li><opt>--confidence_min</opt> : the mininal confidence to consider when
	making the curve.</li>
	<li><opt>--confidence_max</opt> : the maxinal confidence to consider when
	making the curve.</li>
	<li><opt>--sampling</opt> : the number of points used to make the curve.</li>
	<li><opt>--show-no-curve</opt> : does not display the curve when computed.</li>
	<li><opt>--saving-file</opt> : by default, the curve is not saved. If you specify
	a file with this options, the curve is saved in that file.</li>
	<li><opt>--xmin</opt> : the minimal x on the displayed curve.</li>
	<li><opt>--xmax</opt> : the maximal x on the displayed curve.</li>
	<li><opt>--ymin</opt> : the minimal y on the displayed curve.</li>
	<li><opt>--ymax</opt> : the maximal y on the displayed curve.</li>
      </ul></p>
    <h1>
      Parsers
    </h1>
    <p>By default, parsers are stored in the <i>parsers</i> directory. A parser
    <i>foo.py</i> will be named <i>foo</i> when used. Every <i>.py</i> file
    in the parser directory will be considerated as a parser, and an error
    will occur if it does not have the right sturcture.</p>
    <p>A parser sould at least have one of the following functions, and can have
    several of them, according to its usage.
    <ul>
      <li><code>parse(filename, crawl = False)</code> : if <code>crawl</code> is set to False,
      it should parse a single file, if it is set to True, it can either look for
      several files in the <code>filename</code> directory, or raise an error if the
      crawl mode is not supported. It should return a <code>dataset.DataSet</code> object.</li>
      <li><code>parse_multi(filename, crawl)</code> : it has the same comportement than
      <code>parse</code>, except than it takes confidences into account, and returns a
      <code>dataset.DataSetMulti</code> object.</li>
    </ul></p>
    <h1>
      Comparators
    </h1>
    <p>Comparators are similar to parsers in the way they are handled. They are
    in the <i>comparators</i> folder, and they are named by their file name without
    the <i>.py</i> .</p>
    <p>The only recognized function in a comparator is
    <code>compare_datasets(toscore, groundtruth)</code>, which takes two
    <code>dataset.DataSet</code> and returns a <code>result.DataSetResult</code> .</p>
    <p>There are several common and useful functions for comparators that can be
    found in <code>comparator_helpers</code> .</p>
  </div>
  </body>
</html>